<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.67.0" />
    <meta name="description" content="SiriDB documentation">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <title>select :: SiriDB documentation</title>

    
    <link href="/css/nucleus.css?1584026475" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1584026475" rel="stylesheet">
    <link href="/css/hybrid.css?1584026475" rel="stylesheet">
    <link href="/css/featherlight.min.css?1584026475" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1584026475" rel="stylesheet">
    <link href="/css/auto-complete.css?1584026475" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1584026475" rel="stylesheet">
    <link href="/css/theme.css?1584026475" rel="stylesheet">
    <link href="/css/hugo-theme.css?1584026475" rel="stylesheet">
    
      <link href="/css/theme-mine.css?1584026475" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1584026475"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/query-data/select/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="/">
    <img src="/images/siridb-lg.png" alt="Logo">
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1584026475"></script>
<script type="text/javascript" src="/js/auto-complete.js?1584026475"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/docs.siridb.net\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1584026475"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/introduction/">
          Introduction
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/introduction/getting_started/" title="Getting Started" class="dd-item ">
        <a href="/introduction/getting_started/">
        Getting Started
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/query-data/" title="Query data" class="dd-item 
        parent
        
        
        ">
      <a href="/query-data/">
          Query data
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/query-data/select/" title="select" class="dd-item active">
        <a href="/query-data/select/">
        select
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/query-data/aggregate_functions/" title="aggregate functions" class="dd-item ">
        <a href="/query-data/aggregate_functions/">
        aggregate functions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/query-data/debug/" title="debug (timeit)" class="dd-item ">
        <a href="/query-data/debug/">
        debug (timeit)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/series/" title="Series" class="dd-item 
        
        
        
        ">
      <a href="/series/">
          Series
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/series/list_series/" title="list series" class="dd-item ">
        <a href="/series/list_series/">
        list series
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/series/count_series/" title="count series" class="dd-item ">
        <a href="/series/count_series/">
        count series
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/series/drop_series/" title="drop series" class="dd-item ">
        <a href="/series/drop_series/">
        drop series
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/shards/" title="Shards" class="dd-item 
        
        
        
        ">
      <a href="/shards/">
          Shards
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/shards/list_shards/" title="list shards" class="dd-item ">
        <a href="/shards/list_shards/">
        list shards
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/shards/count_shards/" title="count shards" class="dd-item ">
        <a href="/shards/count_shards/">
        count shards
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/shards/drop_shards/" title="drop shards" class="dd-item ">
        <a href="/shards/drop_shards/">
        drop shards
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/groups/" title="Groups" class="dd-item 
        
        
        
        ">
      <a href="/groups/">
          Groups
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/groups/create_group/" title="create group" class="dd-item ">
        <a href="/groups/create_group/">
        create group
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/groups/count_groups/" title="count groups" class="dd-item ">
        <a href="/groups/count_groups/">
        count groups
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/groups/list_groups/" title="list groups" class="dd-item ">
        <a href="/groups/list_groups/">
        list groups
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/groups/alter_group/" title="alter group" class="dd-item ">
        <a href="/groups/alter_group/">
        alter group
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/groups/drop_groups/" title="drop groups" class="dd-item ">
        <a href="/groups/drop_groups/">
        drop groups
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/servers/" title="Servers" class="dd-item 
        
        
        
        ">
      <a href="/servers/">
          Servers
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/servers/alter_server/" title="alter server" class="dd-item ">
        <a href="/servers/alter_server/">
        alter server
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/servers/alter_servers/" title="alter servers" class="dd-item ">
        <a href="/servers/alter_servers/">
        alter servers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/servers/count_servers/" title="count servers" class="dd-item ">
        <a href="/servers/count_servers/">
        count servers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/servers/list_servers/" title="list servers" class="dd-item ">
        <a href="/servers/list_servers/">
        list servers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/servers/drop_server/" title="drop server" class="dd-item ">
        <a href="/servers/drop_server/">
        drop server
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/users/" title="Users" class="dd-item 
        
        
        
        ">
      <a href="/users/">
          Users
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/users/create_user/" title="create user" class="dd-item ">
        <a href="/users/create_user/">
        create user
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/count_users/" title="count users" class="dd-item ">
        <a href="/users/count_users/">
        count users
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/list_users/" title="list users" class="dd-item ">
        <a href="/users/list_users/">
        list users
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/alter_user/" title="alter user" class="dd-item ">
        <a href="/users/alter_user/">
        alter user
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/database/" title="Database" class="dd-item 
        
        
        
        ">
      <a href="/database/">
          Database
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/database/alter_database/" title="alter database" class="dd-item ">
        <a href="/database/alter_database/">
        alter database
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/database/timezones/" title="timezones" class="dd-item ">
        <a href="/database/timezones/">
        timezones
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/database/status_information/" title="status information" class="dd-item ">
        <a href="/database/status_information/">
        status information
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/access/" title="Access" class="dd-item 
        
        
        
        ">
      <a href="/access/">
          Access
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/access/access_rights/" title="access rights" class="dd-item ">
        <a href="/access/access_rights/">
        access rights
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/access/grant_access/" title="grant access" class="dd-item ">
        <a href="/access/grant_access/">
        grant access
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/access/revoke_access/" title="revoke access" class="dd-item ">
        <a href="/access/revoke_access/">
        revoke access
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/access/restore_access/" title="restore access" class="dd-item ">
        <a href="/access/restore_access/">
        restore access
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/access/no_access/" title="no access" class="dd-item ">
        <a href="/access/no_access/">
        no access
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://siridb.net/"><i class='far fa-window-maximize'></i> Website</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/SiriDB/siridb-server"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/query-data/'>Query data</a> > select
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#functions">functions</a></li>
    <li><a href="#combine-functions">Combine functions</a></li>
    <li><a href="#match_series">match_series</a></li>
    <li><a href="#time_range">time_range</a></li>
    <li><a href="#merge_data">merge_data</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              select
            </h1>
          

        



<p>Syntax:</p>
<pre><code>select &lt;points/functions&gt; from &lt;match_series [&lt;where&gt;]&gt; [&lt;time_range&gt;] [&lt;merge_data&gt;]
</code></pre>
<p>Example:</p>
<pre><code># Select points from &quot;series-001&quot;
select * from &quot;series-001&quot;
</code></pre>
<h2 id="functions">functions</h2>
<p>It&rsquo;s possible to select multiple aggregate functions in one query. This has some
advantages over performing multiple queries since the database in this case only
needs to search for the series and points once. To find the requested aggregate
in the result we must add a prefix and/or suffix to the series name to make the
name unique. Note that a prefix and/or suffix is only required when querying
multiple aggregates.</p>
<p>Example:</p>
<pre><code># Select both the min and max grouped by 5 minutes from &quot;series-001&quot;
select min(5m) prefix &quot;min-&quot;, max (5m) prefix &quot;max-&quot; from &quot;series-001&quot;
</code></pre>
<p>For more help on aggregate functions see <a href="../aggregate_functions">aggregate functions</a>.</p>
<h2 id="combine-functions">Combine functions</h2>
<p>The aggregate functions can be used together by parsing the result of one function
to the next. It&rsquo;s also possible to use the same function twice which can be
useful with for example difference.</p>
<p>Example:</p>
<pre><code># Select the median grouped by 1 minute and return the difference for that result
select median (1m) =&gt; difference () from &quot;series-001&quot;
</code></pre>
<h2 id="match_series">match_series</h2>
<p>See <a href="../../series/list_series">list series</a> on how to match series.</p>
<h2 id="time_range">time_range</h2>
<p>An optional time range can be given to select only a part of the series data.
If no time range is provided SiriDB returns all the data available. As a time
range we can use <em>before</em>, <em>after</em> or <em>between .. and ..</em></p>
<p>When using <em>after</em> you basically set a <em>start</em> time, with <em>before</em> a <em>end</em> time
and when using <em>between .. and ..</em> you set both a <em>start</em> and <em>end</em> time.
Points having the exact the start time are <em>included</em> in the result, points
with the exact end time are <em>excluded</em> from the result.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>It&rsquo;s safe to use <em>now</em> multiple times in query. SiriDB only calculates <em>now</em> one
time while processing a query. This way you can be sure that <em>now</em> has the
same value.</p>
</blockquote>
<p>Examples:</p>
<pre><code># Select all points from &quot;series-001&quot; in the last 24h
select * from &quot;series-001&quot; after now - 1d

# Select all points from &quot;series-001&quot; today
select * from &quot;series-001&quot; between now - (now % 1d) and now - (now % 1d) + 1d

# Select all points from &quot;series-001&quot; before November, 2015
select * from &quot;series-001&quot; before &quot;2015-11&quot;
</code></pre>
<h2 id="merge_data">merge_data</h2>
<p>When selecting points from multiple series you can merge the data together in
result. Most of the time you also want to provide an aggregate function with the
merge so series get really merged into one series. Even with merge it&rsquo;s still
possible to use aggregate functions on the series before they are merged.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Sometimes it does not matter for the end result if you use an aggregate
function on the series or only while merging. However, if you have multiple
pools it can be an advantage to aggregate the series and the merge. This is
an advantage because each pool can do some aggregate work and only send the
aggregated result to the server processing the query.</p>
<p>For example:</p>
<p><code>select * from /series.*/ merge as &quot;series&quot; using sum(1h)</code></p>
<p>will have the exact same result as</p>
<p><code>select sum(1h) from /series.*/ merge as &quot;series&quot; using sum(1h)</code></p>
<p>but the last one will be faster, assuming you are using a SiriDB cluster and
/series.*/ contains multiple series spread out over multiple pools.</p>
</blockquote>
<p>Examples:</p>
<blockquote>
<p><strong>Note</strong></p>
<p>In the examples below we assume there are no points in the future. If you have
points in the future and only want points from 7 days ago up till now you can
use between now - 7d and now. Since we assume our series have no points in the
future we use after now - 7d.</p>
</blockquote>
<pre><code># We want the average value per 1 hour over the last 7 days over s01
# and s02. The series should weight equal to each other but s01 has
# a point each 2 seconds while s02 only has a point each 5 seconds.
# We solve this by first getting the mean value for each series
# by 1 hour before merging the series.
#
# Note that we use mean(1) while merging. This means we group by 1 second or
# millisecond depending on the time precision. We can do this because the
# series are already grouped by 1h and therefore have re-indexed timestamps
# at precisely each hour.
select mean(1h) from &quot;s01&quot;, &quot;s02&quot; after now - 7d merge as &quot;merged_s&quot; using mean(1)

# We want the number of points s01 and s02 have over the last 7 days.
# Note: when having no timestamps after now this will result in one
#       value with timestamp *now*
select count(now) from &quot;s01&quot;, &quot;s02&quot; after now - 7d merge as &quot;merged_s&quot; using sum(1)

# We have s01 and s02 representing counter data. We want to sum the
# values per 4 hours over January, 2015 and show this as one series.
select sum(4h) from &quot;s01&quot;, &quot;s01&quot; between &quot;2015-01&quot; and &quot;2015-02&quot; merge as &quot;merged_s&quot; using sum(1)
</code></pre>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/query-data/" title="Query data"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/query-data/aggregate_functions/" title="aggregate functions" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1584026475"></script>
    <script src="/js/perfect-scrollbar.min.js?1584026475"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1584026475"></script>
    <script src="/js/jquery.sticky.js?1584026475"></script>
    <script src="/js/featherlight.min.js?1584026475"></script>
    <script src="/js/highlight.pack.js?1584026475"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1584026475"></script>
    <script src="/js/learn.js?1584026475"></script>
    <script src="/js/hugo-learn.js?1584026475"></script>

    <link href="/mermaid/mermaid.css?1584026475" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1584026475"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

